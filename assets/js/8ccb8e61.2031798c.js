"use strict";(self.webpackChunkviethungle_0503=self.webpackChunkviethungle_0503||[]).push([[4657],{3201:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"tutorials/network-monitoring-mtr-iperf3-tailscale","title":"MTR, iperf3 v\xe0 Tailscale - C\xf4ng c\u1ee5 \u0111o m\u1ea1ng chuy\xean nghi\u1ec7p","description":"Khi qu\u1ea3n l\xfd h\u1ea1 t\u1ea7ng m\u1ea1ng ho\u1eb7c debug v\u1ea5n \u0111\u1ec1 k\u1ebft n\u1ed1i, vi\u1ec7c c\xf3 c\xf4ng c\u1ee5 \u0111o m\u1ea1ng ch\xednh x\xe1c l\xe0 r\u1ea5t quan tr\u1ecdng. B\xe0i vi\u1ebft n\xe0y gi\u1edbi thi\u1ec7u ba c\xf4ng c\u1ee5 thi\u1ebft y\u1ebfu: MTR cho ph\xe2n t\xedch routing, iperf3 cho \u0111o b\u0103ng th\xf4ng, v\xe0 c\xe1c t\xednh n\u0103ng monitoring c\u1ee7a Tailscale.","source":"@site/docs/tutorials/network-monitoring-mtr-iperf3-tailscale.md","sourceDirName":"tutorials","slug":"/tutorials/network-monitoring-mtr-iperf3-tailscale","permalink":"/viethungle/docs/tutorials/network-monitoring-mtr-iperf3-tailscale","draft":false,"unlisted":false,"editUrl":"https://github.com/viethungle0503/viethungle/tree/main/docs/docs/tutorials/network-monitoring-mtr-iperf3-tailscale.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"C\xe1c d\u1ef1 \xe1n m\xe3 ngu\u1ed3n m\u1edf cho P2P v\xe0 SFU WebRTC Streaming","permalink":"/viethungle/docs/tutorials/webrtc-p2p-sfu-opensource-projects"},"next":{"title":"So s\xe1nh c\xe1c Streaming Server: SRS vs MediaMTX vs ZLMediaKit","permalink":"/viethungle/docs/tutorials/streaming-servers-comparison-srs-mediamtx-zlmediakit"}}');var i=r(4848),s=r(8453);const c={sidebar_position:9},l="MTR, iperf3 v\xe0 Tailscale - C\xf4ng c\u1ee5 \u0111o m\u1ea1ng chuy\xean nghi\u1ec7p",a={},o=[{value:"1. MTR (My Traceroute)",id:"1-mtr-my-traceroute",level:2},{value:"1.1 C\xe0i \u0111\u1eb7t MTR",id:"11-c\xe0i-\u0111\u1eb7t-mtr",level:3},{value:"1.2 S\u1eed d\u1ee5ng MTR",id:"12-s\u1eed-d\u1ee5ng-mtr",level:3},{value:"1.3 Th\xf4ng s\u1ed1 MTR cung c\u1ea5p",id:"13-th\xf4ng-s\u1ed1-mtr-cung-c\u1ea5p",level:3},{value:"1.4 Ph\xe2n t\xedch k\u1ebft qu\u1ea3 MTR",id:"14-ph\xe2n-t\xedch-k\u1ebft-qu\u1ea3-mtr",level:3},{value:"2. iperf3 - \u0110o b\u0103ng th\xf4ng m\u1ea1ng",id:"2-iperf3---\u0111o-b\u0103ng-th\xf4ng-m\u1ea1ng",level:2},{value:"2.1 C\xe0i \u0111\u1eb7t iperf3",id:"21-c\xe0i-\u0111\u1eb7t-iperf3",level:3},{value:"2.2 S\u1eed d\u1ee5ng iperf3",id:"22-s\u1eed-d\u1ee5ng-iperf3",level:3},{value:"Server Setup",id:"server-setup",level:4},{value:"Client Testing",id:"client-testing",level:4},{value:"2.3 Th\xf4ng s\u1ed1 iperf3 cung c\u1ea5p",id:"23-th\xf4ng-s\u1ed1-iperf3-cung-c\u1ea5p",level:3},{value:"TCP Metrics",id:"tcp-metrics",level:4},{value:"UDP Metrics",id:"udp-metrics",level:4},{value:"2.4 V\xed d\u1ee5 k\u1ebft qu\u1ea3 iperf3",id:"24-v\xed-d\u1ee5-k\u1ebft-qu\u1ea3-iperf3",level:3},{value:"3. Tailscale - Monitoring v\xe0 Access Control",id:"3-tailscale---monitoring-v\xe0-access-control",level:2},{value:"3.1 Th\xf4ng tin k\u1ebft n\u1ed1i Tailscale t\u1eeb client",id:"31-th\xf4ng-tin-k\u1ebft-n\u1ed1i-tailscale-t\u1eeb-client",level:3},{value:"Commands c\u01a1 b\u1ea3n",id:"commands-c\u01a1-b\u1ea3n",level:4},{value:"3.2 Real-time metrics",id:"32-real-time-metrics",level:4},{value:"3.3 Tailscale Access Control Lists (ACLs)",id:"33-tailscale-access-control-lists-acls",level:3},{value:"C\u1ea5u tr\xfac ACL c\u01a1 b\u1ea3n",id:"c\u1ea5u-tr\xfac-acl-c\u01a1-b\u1ea3n",level:4},{value:"V\xed d\u1ee5 ACL cho drone system",id:"v\xed-d\u1ee5-acl-cho-drone-system",level:4},{value:"3.4 \xc1p d\u1ee5ng ACL",id:"34-\xe1p-d\u1ee5ng-acl",level:3},{value:"3.5 Commands ki\u1ec3m tra ACL",id:"35-commands-ki\u1ec3m-tra-acl",level:3},{value:"5. Best Practices \u26a0\ufe0f",id:"5-best-practices-\ufe0f",level:2},{value:"5.1 MTR",id:"51-mtr",level:3},{value:"5.2 iperf3",id:"52-iperf3",level:3},{value:"5.3 Tailscale ACL",id:"53-tailscale-acl",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"mtr-iperf3-v\xe0-tailscale---c\xf4ng-c\u1ee5-\u0111o-m\u1ea1ng-chuy\xean-nghi\u1ec7p",children:"MTR, iperf3 v\xe0 Tailscale - C\xf4ng c\u1ee5 \u0111o m\u1ea1ng chuy\xean nghi\u1ec7p"})}),"\n",(0,i.jsx)(e.p,{children:"Khi qu\u1ea3n l\xfd h\u1ea1 t\u1ea7ng m\u1ea1ng ho\u1eb7c debug v\u1ea5n \u0111\u1ec1 k\u1ebft n\u1ed1i, vi\u1ec7c c\xf3 c\xf4ng c\u1ee5 \u0111o m\u1ea1ng ch\xednh x\xe1c l\xe0 r\u1ea5t quan tr\u1ecdng. B\xe0i vi\u1ebft n\xe0y gi\u1edbi thi\u1ec7u ba c\xf4ng c\u1ee5 thi\u1ebft y\u1ebfu: MTR cho ph\xe2n t\xedch routing, iperf3 cho \u0111o b\u0103ng th\xf4ng, v\xe0 c\xe1c t\xednh n\u0103ng monitoring c\u1ee7a Tailscale."}),"\n",(0,i.jsx)(e.h2,{id:"1-mtr-my-traceroute",children:"1. MTR (My Traceroute)"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"MTR"})," l\xe0 c\xf4ng c\u1ee5 k\u1ebft h\u1ee3p s\u1ee9c m\u1ea1nh c\u1ee7a ",(0,i.jsx)(e.code,{children:"traceroute"})," v\xe0 ",(0,i.jsx)(e.code,{children:"ping"})," \u0111\u1ec3 theo d\xf5i route m\u1ea1ng v\xe0 \u0111o packet loss/latency li\xean t\u1ee5c."]}),"\n",(0,i.jsx)(e.h3,{id:"11-c\xe0i-\u0111\u1eb7t-mtr",children:"1.1 C\xe0i \u0111\u1eb7t MTR"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Ubuntu/Debian\r\nsudo apt install mtr-tiny\r\n\r\n# CentOS/RHEL/Rocky Linux\r\nsudo yum install mtr\r\n# ho\u1eb7c v\u1edbi dnf\r\nsudo dnf install mtr\r\n\r\n# macOS (v\u1edbi Homebrew)\r\nbrew install mtr\r\n\r\n# Windows (v\u1edbi WSL ho\u1eb7c cygwin)\r\n# Ho\u1eb7c s\u1eed d\u1ee5ng WinMTR (GUI version)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"12-s\u1eed-d\u1ee5ng-mtr",children:"1.2 S\u1eed d\u1ee5ng MTR"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# S\u1eed d\u1ee5ng c\u01a1 b\u1ea3n\r\nmtr google.com\r\n\r\n# Monitoring li\xean t\u1ee5c v\u1edbi interval 1 gi\xe2y, 100 packets\r\nmtr -r -c 100 -i 1 8.8.8.8\r\n\r\n# Xu\u1ea5t k\u1ebft qu\u1ea3 ra file\r\nmtr -r -c 100 8.8.8.8 > network_report.txt\r\n\r\n# Hi\u1ec3n th\u1ecb c\u1ea3 IP v\xe0 hostname\r\nmtr -b google.com\r\n\r\n# Ch\u1ec9 hi\u1ec3n th\u1ecb IP (nhanh h\u01a1n)\r\nmtr -n google.com\r\n\r\n# S\u1eed d\u1ee5ng IPv6\r\nmtr -6 2001:4860:4860::8888\r\n\r\n# Real-time monitoring (kh\xf4ng k\u1ebft th\xfac)\r\nmtr --report-cycles=0 8.8.8.8\n"})}),"\n",(0,i.jsx)(e.h3,{id:"13-th\xf4ng-s\u1ed1-mtr-cung-c\u1ea5p",children:"1.3 Th\xf4ng s\u1ed1 MTR cung c\u1ea5p"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"C\u1ed9t"}),(0,i.jsx)(e.th,{children:"\xdd ngh\u0129a"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Loss%"})}),(0,i.jsx)(e.td,{children:"T\u1ef7 l\u1ec7 packet loss t\u1ea1i m\u1ed7i hop (%)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Snt"})}),(0,i.jsx)(e.td,{children:"S\u1ed1 packet \u0111\xe3 g\u1eedi"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Last"})}),(0,i.jsx)(e.td,{children:"Latency c\u1ee7a packet g\u1ea7n nh\u1ea5t (ms)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Avg"})}),(0,i.jsx)(e.td,{children:"Latency trung b\xecnh (ms)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Best"})}),(0,i.jsx)(e.td,{children:"Latency t\u1ed1t nh\u1ea5t (ms)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Wrst"})}),(0,i.jsx)(e.td,{children:"Latency t\u1ec7 nh\u1ea5t (ms)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"StDev"})}),(0,i.jsx)(e.td,{children:"\u0110\u1ed9 l\u1ec7ch chu\u1ea9n - jitter (ms)"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"14-ph\xe2n-t\xedch-k\u1ebft-qu\u1ea3-mtr",children:"1.4 Ph\xe2n t\xedch k\u1ebft qu\u1ea3 MTR"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"                             My traceroute  [v0.95]\r\nStart: 2024-01-15T10:30:00+0700\r\nHOST: client.local               Loss%   Snt   Last   Avg  Best  Wrst StDev\r\n  1.|-- gateway.local             0.0%    10    1.2   1.3   1.1   1.8   0.2\r\n  2.|-- 10.0.1.1                  0.0%    10    5.4   5.6   4.9   7.2   0.8\r\n  3.|-- isp-router.net           10.0%    10   15.2  16.8  14.1  25.3   3.4\r\n  4.|-- 8.8.8.8                   0.0%    10   18.4  19.1  17.8  22.1   1.2\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Ph\xe2n t\xedch"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Hop 1-2"}),": K\u1ebft n\u1ed1i n\u1ed9i b\u1ed9 t\u1ed1t, latency th\u1ea5p"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Hop 3"}),": ISP router c\xf3 10% packet loss - v\u1ea5n \u0111\u1ec1 t\u1ea1i nh\xe0 m\u1ea1ng"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Hop 4"}),": Google DNS \u1ed5n \u0111\u1ecbnh"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"2-iperf3---\u0111o-b\u0103ng-th\xf4ng-m\u1ea1ng",children:"2. iperf3 - \u0110o b\u0103ng th\xf4ng m\u1ea1ng"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"iperf3"})," l\xe0 c\xf4ng c\u1ee5 chu\u1ea9n \u0111\u1ec3 \u0111o b\u0103ng th\xf4ng TCP/UDP gi\u1eefa hai \u0111i\u1ec3m."]}),"\n",(0,i.jsx)(e.h3,{id:"21-c\xe0i-\u0111\u1eb7t-iperf3",children:"2.1 C\xe0i \u0111\u1eb7t iperf3"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Ubuntu/Debian\r\nsudo apt install iperf3\r\n\r\n# CentOS/RHEL/Rocky Linux\r\nsudo yum install iperf3\r\n# ho\u1eb7c v\u1edbi dnf\r\nsudo dnf install iperf3\r\n\r\n# macOS\r\nbrew install iperf3\r\n\r\n# Windows\r\n# Download t\u1eeb https://iperf.fr/iperf-download.php\r\n# Ho\u1eb7c qua chocolatey: choco install iperf3\n"})}),"\n",(0,i.jsx)(e.h3,{id:"22-s\u1eed-d\u1ee5ng-iperf3",children:"2.2 S\u1eed d\u1ee5ng iperf3"}),"\n",(0,i.jsx)(e.h4,{id:"server-setup",children:"Server Setup"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Kh\u1edfi \u0111\u1ed9ng server tr\xean m\xe1y \u0111\xedch (v\xed d\u1ee5: GCS instance)\r\niperf3 -s -p 5201\r\n\r\n# Server v\u1edbi bind interface c\u1ee5 th\u1ec3\r\niperf3 -s -B 192.168.1.100 -p 5201\r\n\r\n# Server daemon mode (background)\r\niperf3 -s -D\n"})}),"\n",(0,i.jsx)(e.h4,{id:"client-testing",children:"Client Testing"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Test TCP c\u01a1 b\u1ea3n (t\u1eeb drone/gateway \u0111\u1ebfn server)\r\niperf3 -c <server_ip> -p 5201 -t 30 -i 1\r\n\r\n# Test UDP v\u1edbi bandwidth limit\r\niperf3 -c <server_ip> -u -b 10M -t 30\r\n\r\n# Bidirectional test (\u0111o c\u1ea3 upload v\xe0 download)\r\niperf3 -c <server_ip> -d -t 30\r\n\r\n# Multiple parallel connections\r\niperf3 -c <server_ip> -P 4 -t 30\r\n\r\n# Test v\u1edbi window size c\u1ee5 th\u1ec3\r\niperf3 -c <server_ip> -w 64K -t 30\r\n\r\n# Reverse mode (server g\u1eedi data \u0111\u1ebfn client)\r\niperf3 -c <server_ip> -R -t 30\n"})}),"\n",(0,i.jsx)(e.h3,{id:"23-th\xf4ng-s\u1ed1-iperf3-cung-c\u1ea5p",children:"2.3 Th\xf4ng s\u1ed1 iperf3 cung c\u1ea5p"}),"\n",(0,i.jsx)(e.h4,{id:"tcp-metrics",children:"TCP Metrics"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Bandwidth"}),": B\u0103ng th\xf4ng th\u1ef1c t\u1ebf (Mbits/sec, Gbits/sec)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transfer"}),": T\u1ed5ng l\u01b0\u1ee3ng data truy\u1ec1n (MBytes, GBytes)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Retransmissions"}),": S\u1ed1 l\u1ea7n truy\u1ec1n l\u1ea1i g\xf3i tin"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Cwnd"}),": TCP congestion window size"]}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"udp-metrics",children:"UDP Metrics"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Bandwidth"}),": B\u0103ng th\xf4ng \u0111\u1ea1t \u0111\u01b0\u1ee3c"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Jitter"}),": \u0110\u1ed9 bi\u1ebfn thi\xean delay (ms)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Lost/Total"}),": T\u1ef7 l\u1ec7 packet loss"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Datagrams"}),": S\u1ed1 UDP datagram g\u1eedi/nh\u1eadn"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"24-v\xed-d\u1ee5-k\u1ebft-qu\u1ea3-iperf3",children:"2.4 V\xed d\u1ee5 k\u1ebft qu\u1ea3 iperf3"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"[ ID] Interval           Transfer     Bitrate         Retr  Cwnd\r\n[  5]   0.00-1.00   sec  11.2 MBytes  94.4 Mbits/sec    0    138 KBytes\r\n[  5]   1.00-2.00   sec  11.2 MBytes  94.2 Mbits/sec    0    152 KBytes\r\n[  5]   2.00-3.00   sec  11.2 MBytes  94.0 Mbits/sec    0    152 KBytes\r\n- - - - - - - - - - - - - - - - - - - - - - - - -\r\n[ ID] Interval           Transfer     Bitrate         Retr\r\n[  5]   0.00-30.00  sec   336 MBytes  94.1 Mbits/sec    0             sender\r\n[  5]   0.00-30.04  sec   335 MBytes  93.6 Mbits/sec                  receiver\n"})}),"\n",(0,i.jsx)(e.h2,{id:"3-tailscale---monitoring-v\xe0-access-control",children:"3. Tailscale - Monitoring v\xe0 Access Control"}),"\n",(0,i.jsx)(e.h3,{id:"31-th\xf4ng-tin-k\u1ebft-n\u1ed1i-tailscale-t\u1eeb-client",children:"3.1 Th\xf4ng tin k\u1ebft n\u1ed1i Tailscale t\u1eeb client"}),"\n",(0,i.jsx)(e.h4,{id:"commands-c\u01a1-b\u1ea3n",children:"Commands c\u01a1 b\u1ea3n"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Xem status v\xe0 connection type\r\ntailscale status\r\n\r\n# Status d\u1ea1ng JSON (d\u1ec5 parse cho scripts)\r\ntailscale status --json\r\n\r\n# Ki\u1ec3m tra network conditions chi ti\u1ebft\r\ntailscale netcheck\r\n\r\n# Th\xf4ng tin v\u1ec1 peer connections\r\ntailscale status --peers\r\n\r\n# Xem exit node hi\u1ec7n t\u1ea1i\r\ntailscale status --active\n"})}),"\n",(0,i.jsx)(e.h4,{id:"32-real-time-metrics",children:"3.2 Real-time metrics"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# In metrics tr\u1ef1c ti\u1ebfp ra console\r\ntailscale metrics print\r\n\r\n# Enable web interface \u0111\u1ec3 thu th\u1eadp metrics\r\ntailscale set --webclient\r\n\r\n# Truy c\u1eadp metrics qua web (sau khi enable webclient)\r\n# http://100.100.100.100/metrics (local)\r\n# http://<tailscale-ip>:5252/metrics (t\u1eeb tailnet kh\xe1c)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"33-tailscale-access-control-lists-acls",children:"3.3 Tailscale Access Control Lists (ACLs)"}),"\n",(0,i.jsx)(e.p,{children:"Tailscale ACL cho ph\xe9p ki\u1ec3m so\xe1t k\u1ebft n\u1ed1i gi\u1eefa c\xe1c thi\u1ebft b\u1ecb c\u1ee5 th\u1ec3, r\u1ea5t h\u1eefu \xedch cho tr\u01b0\u1eddng h\u1ee3p drone A ch\u1ec9 k\u1ebft n\u1ed1i v\u1edbi tay c\u1ea7m A."}),"\n",(0,i.jsx)(e.h4,{id:"c\u1ea5u-tr\xfac-acl-c\u01a1-b\u1ea3n",children:"C\u1ea5u tr\xfac ACL c\u01a1 b\u1ea3n"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\r\n  "tagOwners": {\r\n    "tag:drone-a": ["user1@example.com"],\r\n    "tag:controller-a": ["user1@example.com"],\r\n    "tag:drone-b": ["user2@example.com"], \r\n    "tag:controller-b": ["user2@example.com"]\r\n  },\r\n  \r\n  "acls": [\r\n    {\r\n      "action": "accept",\r\n      "src": ["tag:controller-a"],\r\n      "dst": ["tag:drone-a:*"]\r\n    },\r\n    {\r\n      "action": "accept", \r\n      "src": ["tag:controller-b"],\r\n      "dst": ["tag:drone-b:*"]\r\n    },\r\n    {\r\n      "action": "accept",\r\n      "src": ["tag:drone-a"],\r\n      "dst": ["tag:controller-a:*"]\r\n    },\r\n    {\r\n      "action": "accept",\r\n      "src": ["tag:drone-b"], \r\n      "dst": ["tag:controller-b:*"]\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,i.jsx)(e.h4,{id:"v\xed-d\u1ee5-acl-cho-drone-system",children:"V\xed d\u1ee5 ACL cho drone system"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\r\n  "tagOwners": {\r\n    "tag:mission-alpha": ["pilot-alpha@company.com"],\r\n    "tag:mission-beta": ["pilot-beta@company.com"],\r\n    "tag:ground-station": ["ops@company.com"]\r\n  },\r\n  \r\n  "acls": [\r\n    // Ch\u1ec9 cho ph\xe9p pilot-alpha \u0111i\u1ec1u khi\u1ec3n drone mission-alpha\r\n    {\r\n      "action": "accept",\r\n      "src": ["tag:mission-alpha"], \r\n      "dst": ["tag:mission-alpha:22,8080,9000-9010"]\r\n    },\r\n    \r\n    // Ground station c\xf3 th\u1ec3 monitor t\u1ea5t c\u1ea3\r\n    {\r\n      "action": "accept",\r\n      "src": ["tag:ground-station"],\r\n      "dst": ["tag:mission-alpha:80,443,8080", "tag:mission-beta:80,443,8080"]\r\n    },\r\n    \r\n    // Ch\u1eb7n cross-mission communication\r\n    {\r\n      "action": "drop",\r\n      "src": ["tag:mission-alpha"],\r\n      "dst": ["tag:mission-beta:*"]\r\n    }\r\n  ],\r\n  \r\n  "grants": [\r\n    {\r\n      "src": ["tag:ground-station"],\r\n      "dst": ["autogroup:admin"],\r\n      "app": {\r\n        "tailscale.com/cap/file-sharing": [{\r\n          "shareAs": "ops-readonly"\r\n        }]\r\n      }\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"34-\xe1p-d\u1ee5ng-acl",children:"3.4 \xc1p d\u1ee5ng ACL"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Truy c\u1eadp Tailscale Admin Console"}),": ",(0,i.jsx)(e.a,{href:"https://login.tailscale.com/admin/acls",children:"https://login.tailscale.com/admin/acls"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Edit ACL policy"})," theo format JSON \u1edf tr\xean"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Test ACL"})," b\u1eb1ng built-in simulator"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Apply"})," thay \u0111\u1ed5i"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"35-commands-ki\u1ec3m-tra-acl",children:"3.5 Commands ki\u1ec3m tra ACL"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Ki\u1ec3m tra ACL hi\u1ec7n t\u1ea1i c\xf3 cho ph\xe9p k\u1ebft n\u1ed1i kh\xf4ng\r\ntailscale ping <target-ip>\r\n\r\n# Test connection \u0111\u1ebfn port c\u1ee5 th\u1ec3\r\nnc -zv <tailscale-ip> <port>\r\n\r\n# Ki\u1ec3m tra routing table\r\ntailscale status --json | jq '.Peer'\n"})}),"\n",(0,i.jsx)(e.h2,{id:"5-best-practices-\ufe0f",children:"5. Best Practices \u26a0\ufe0f"}),"\n",(0,i.jsx)(e.h3,{id:"51-mtr",children:"5.1 MTR"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Ch\u1ea1y \xedt nh\u1ea5t 100 packets \u0111\u1ec3 c\xf3 k\u1ebft qu\u1ea3 ch\xednh x\xe1c"}),"\n",(0,i.jsx)(e.li,{children:"Monitor trong th\u1eddi gian d\xe0i \u0111\u1ec3 ph\xe1t hi\u1ec7n pattern"}),"\n",(0,i.jsx)(e.li,{children:"Loss% > 5% \u1edf b\u1ea5t k\u1ef3 hop n\xe0o c\u1ea7n \u0111i\u1ec1u tra"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"52-iperf3",children:"5.2 iperf3"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Test c\u1ea3 TCP v\xe0 UDP cho complete picture"}),"\n",(0,i.jsx)(e.li,{children:"S\u1eed d\u1ee5ng multiple connections (-P) cho saturate bandwidth"}),"\n",(0,i.jsx)(e.li,{children:"Test bidirectional \u0111\u1ec3 ph\xe1t hi\u1ec7n asymmetric issues"}),"\n",(0,i.jsx)(e.li,{children:"Firewall c\u1ea7n m\u1edf port 5201 (ho\u1eb7c port custom)"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"53-tailscale-acl",children:"5.3 Tailscale ACL"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Test ACL tr\xean staging environment tr\u01b0\u1edbc"}),"\n",(0,i.jsx)(e.li,{children:"S\u1eed d\u1ee5ng tags thay v\xec hardcode user emails"}),"\n",(0,i.jsxs)(e.li,{children:["T\u1eadn d\u1ee5ng ",(0,i.jsx)(e.code,{children:"autogroup:members"})," cho internal access"]}),"\n",(0,i.jsx)(e.li,{children:"Backup ACL configuration tr\u01b0\u1edbc khi thay \u0111\u1ed5i l\u1edbn"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"V\u1edbi ba c\xf4ng c\u1ee5 n\xe0y, b\u1ea1n c\xf3 th\u1ec3 monitor v\xe0 troubleshoot m\u1ea1ng m\u1ed9t c\xe1ch to\xe0n di\u1ec7n t\u1eeb layer 3 routing cho \u0111\u1ebfn application-level bandwidth v\xe0 access control."})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>l});var t=r(6540);const i={},s=t.createContext(i);function c(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);