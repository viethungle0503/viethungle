"use strict";(self.webpackChunkviethungle_0503=self.webpackChunkviethungle_0503||[]).push([[5921],{4621:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>o,default:()=>a,frontMatter:()=>d,metadata:()=>c,toc:()=>h});const c=JSON.parse('{"id":"tutorials/recover-docker-run-command","title":"C\xe1ch xem l\u1ea1i l\u1ec7nh docker run t\u1eeb container \u0111ang ch\u1ea1y","description":"C\xe2u h\u1ecfi: C\xf3 c\xe1ch n\xe0o \u0111\u1ec3 bi\u1ebft ng\xe0y tr\u01b0\u1edbc t\xf4i \u0111\xe3 d\xf9ng l\u1ec7nh docker run nh\u01b0 th\u1ebf n\xe0o d\u1ef1a tr\xean m\u1ed9t container \u0111ang ch\u1ea1y kh\xf4ng?","source":"@site/docs/tutorials/recover-docker-run-command.md","sourceDirName":"tutorials","slug":"/tutorials/recover-docker-run-command","permalink":"/viethungle/docs/tutorials/recover-docker-run-command","draft":false,"unlisted":false,"editUrl":"https://github.com/viethungle0503/viethungle/tree/main/docs/docs/tutorials/recover-docker-run-command.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11},"sidebar":"tutorialSidebar","previous":{"title":"So s\xe1nh c\xe1c Streaming Server: SRS vs MediaMTX vs ZLMediaKit","permalink":"/viethungle/docs/tutorials/streaming-servers-comparison-srs-mediamtx-zlmediakit"},"next":{"title":"C\xe1c Database Open-Source Ph\u1ed5 Bi\u1ebfn: So s\xe1nh t\xednh n\u0103ng v\xe0 use case","permalink":"/viethungle/docs/tutorials/open-source-databases-comparison"}}');var i=r(4848),s=r(8453);const d={sidebar_position:11},o="C\xe1ch xem l\u1ea1i l\u1ec7nh docker run t\u1eeb container \u0111ang ch\u1ea1y",t={},h=[{value:"1. X\xe1c \u0111\u1ecbnh container b\u1ea1n c\u1ea7n xem",id:"1-x\xe1c-\u0111\u1ecbnh-container-b\u1ea1n-c\u1ea7n-xem",level:2},{value:"2. Xem to\xe0n b\u1ed9 c\u1ea5u h\xecnh \u0111\xe3 ghi",id:"2-xem-to\xe0n-b\u1ed9-c\u1ea5u-h\xecnh-\u0111\xe3-ghi",level:2},{value:"3. R\xe1p th\xe0nh c\xe2u l\u1ec7nh &quot;t\xe1i t\u1ea1o&quot;",id:"3-r\xe1p-th\xe0nh-c\xe2u-l\u1ec7nh-t\xe1i-t\u1ea1o",level:2},{value:"V\xed d\u1ee5 nhanh:",id:"v\xed-d\u1ee5-nhanh",level:3},{value:"M\u1edf r\u1ed9ng h\u01a1n:",id:"m\u1edf-r\u1ed9ng-h\u01a1n",level:3},{value:"4. C\xf4ng c\u1ee5 &quot;d\xf9ng li\u1ec1n&quot;T ool runlike",id:"4-c\xf4ng-c\u1ee5-d\xf9ng-li\u1ec1nt-ool-runlike",level:2},{value:"5. L\u01b0u \xfd khi s\u1eed d\u1ee5ng",id:"5-l\u01b0u-\xfd-khi-s\u1eed-d\u1ee5ng",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"c\xe1ch-xem-l\u1ea1i-l\u1ec7nh-docker-run-t\u1eeb-container-\u0111ang-ch\u1ea1y",children:"C\xe1ch xem l\u1ea1i l\u1ec7nh docker run t\u1eeb container \u0111ang ch\u1ea1y"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"C\xe2u h\u1ecfi:"})," C\xf3 c\xe1ch n\xe0o \u0111\u1ec3 bi\u1ebft ng\xe0y tr\u01b0\u1edbc t\xf4i \u0111\xe3 d\xf9ng l\u1ec7nh ",(0,i.jsx)(e.code,{children:"docker run"})," nh\u01b0 th\u1ebf n\xe0o d\u1ef1a tr\xean m\u1ed9t container \u0111ang ch\u1ea1y kh\xf4ng?"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"C\xe2u tr\u1ea3 l\u1eddi:"}),' C\xf3 \u2014 Docker l\u01b0u l\u1ea1i h\u1ea7u h\u1ebft m\u1ecdi tu\u1ef3 ch\u1ecdn b\u1ea1n \u0111\xe3 d\xf9ng khi t\u1ea1o container, n\xean b\u1ea1n c\xf3 th\u1ec3 "m\xf2" l\u1ea1i g\u1ea7n nh\u01b0 \u0111\u1ea7y \u0111\u1ee7 c\xe2u l\u1ec7nh ',(0,i.jsx)(e.code,{children:"docker run"})," ban \u0111\u1ea7u."]}),"\n",(0,i.jsx)(e.h2,{id:"1-x\xe1c-\u0111\u1ecbnh-container-b\u1ea1n-c\u1ea7n-xem",children:"1. X\xe1c \u0111\u1ecbnh container b\u1ea1n c\u1ea7n xem"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"docker ps       # li\u1ec7t k\xea container \u0111ang ch\u1ea1y\r\n# ho\u1eb7c\r\ndocker ps -a    # c\u1ea3 container \u0111\xe3 d\u1eebng\n"})}),"\n",(0,i.jsx)(e.p,{children:"L\u1ea5y CONTAINER ID ho\u1eb7c NAME."}),"\n",(0,i.jsx)(e.h2,{id:"2-xem-to\xe0n-b\u1ed9-c\u1ea5u-h\xecnh-\u0111\xe3-ghi",children:"2. Xem to\xe0n b\u1ed9 c\u1ea5u h\xecnh \u0111\xe3 ghi"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"docker inspect <container_id_or_name> | less\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"docker inspect"})," tr\u1ea3 v\u1ec1 JSON r\u1ea5t d\xe0i; c\xe1c tr\u01b0\u1eddng quan tr\u1ecdng:"]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Tr\u01b0\u1eddng"}),(0,i.jsx)(e.th,{children:"\xdd ngh\u0129a"}),(0,i.jsx)(e.th,{children:"V\xed d\u1ee5 s\u1eed d\u1ee5ng"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:".Config.Image"})}),(0,i.jsx)(e.td,{children:"image g\u1ed1c"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"jq -r '.[0].Config.Image'"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:".Path & .Args"})}),(0,i.jsx)(e.td,{children:"l\u1ec7nh CMD b\u1ea1n g\xf5 sau image"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"jq -r '.[0].Path, .[0].Args[]'"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:".HostConfig.PortBindings"})}),(0,i.jsxs)(e.td,{children:["mapping c\u1ed5ng ",(0,i.jsx)(e.code,{children:"-p"})]}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"jq '.[0].HostConfig.PortBindings'"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:".HostConfig.Binds"})}),(0,i.jsxs)(e.td,{children:["volume ",(0,i.jsx)(e.code,{children:"-v"})]}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"jq -r '.[0].HostConfig.Binds[]'"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:".Config.Env"})}),(0,i.jsxs)(e.td,{children:["bi\u1ebfn m\xf4i tr\u01b0\u1eddng ",(0,i.jsx)(e.code,{children:"-e"})]}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"jq -r '.[0].Config.Env[]'"})})]})]})]}),"\n",(0,i.jsxs)(e.p,{children:["(D\xf9ng ",(0,i.jsx)(e.code,{children:"jq"})," cho ti\u1ec7n \u0111\u1ecdc; c\xf3 th\u1ec3 d\xf9ng ",(0,i.jsx)(e.code,{children:"--format '{{\u2026}}'"})," n\u1ebfu kh\xf4ng c\xe0i ",(0,i.jsx)(e.code,{children:"jq"}),")."]}),"\n",(0,i.jsx)(e.h2,{id:"3-r\xe1p-th\xe0nh-c\xe2u-l\u1ec7nh-t\xe1i-t\u1ea1o",children:'3. R\xe1p th\xe0nh c\xe2u l\u1ec7nh "t\xe1i t\u1ea1o"'}),"\n",(0,i.jsx)(e.h3,{id:"v\xed-d\u1ee5-nhanh",children:"V\xed d\u1ee5 nhanh:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"docker inspect --format \\\r\n'{{.Config.Image}} {{.Path}} {{join .Args \" \"}}' <id>\n"})}),"\n",(0,i.jsx)(e.h3,{id:"m\u1edf-r\u1ed9ng-h\u01a1n",children:"M\u1edf r\u1ed9ng h\u01a1n:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"docker inspect --format '\r\ndocker run -d --name={{.Name}}\r\n{{- range $p, $conf := .HostConfig.PortBindings}} -p {{$conf 0}}:{{$p}} {{end}}\r\n{{- range .HostConfig.Binds}} -v {{.}} {{end}}\r\n{{- range .Config.Env}} -e {{.}} {{end}}\r\n{{.Config.Image}}\r\n{{.Path}} {{join .Args \" \"}}\r\n' <id>\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"L\u01b0u \xfd:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["M\u1ed9t s\u1ed1 tu\u1ef3 ch\u1ecdn (nh\u01b0 ",(0,i.jsx)(e.code,{children:"--restart"}),", ",(0,i.jsx)(e.code,{children:"--network"}),", ",(0,i.jsx)(e.code,{children:"--cpus"}),", ...) n\u1eb1m trong c\xe1c nh\xe1nh ",(0,i.jsx)(e.code,{children:".HostConfig.*"})," kh\xe1c; b\u1ea1n ch\u1ec9 c\u1ea7n b\u1ed5 sung v\xe0o khu\xf4n m\u1eabu tr\xean."]}),"\n",(0,i.jsxs)(e.li,{children:["N\u1ebfu container \u0111\u01b0\u1ee3c t\u1ea1o b\u1edfi ",(0,i.jsx)(e.code,{children:"docker-compose"}),", c\xe1c nh\xe3n (",(0,i.jsx)(e.code,{children:".Config.Labels"}),") s\u1ebd g\u1ee3i \xfd file ",(0,i.jsx)(e.code,{children:"docker-compose.yml"})," ban \u0111\u1ea7u."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"docker ps --no-trunc"})," ch\u1ec9 hi\u1ec7n l\u1ec7nh CMD ch\u1ea1y b\xean trong container, ch\u1ee9 kh\xf4ng c\xf3 port/volume n\xean th\u01b0\u1eddng ch\u01b0a \u0111\u1ee7."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"4-c\xf4ng-c\u1ee5-d\xf9ng-li\u1ec1nt-ool-runlike",children:'4. C\xf4ng c\u1ee5 "d\xf9ng li\u1ec1n"T ool runlike'}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"docker run --rm -v /var/run/docker.sock:/var/run/docker.sock assaflavie/runlike <id>\n"})}),"\n",(0,i.jsxs)(e.p,{children:["T\u1ef1 \u0111\u1ed9ng in ra c\xe2u l\u1ec7nh ",(0,i.jsx)(e.code,{children:"docker run"})," g\u1ea7n ch\xednh x\xe1c."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"V\xed d\u1ee5 s\u1eed d\u1ee5ng runlike:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'$ docker run --rm -v /var/run/docker.sock:/var/run/docker.sock assaflavie/runlike redis\r\n\r\n# K\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1:\r\ndocker run --name=redis \\\r\n    -e "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin" \\\r\n    -e "REDIS_VERSION=2.8.9" \\\r\n    -e "REDIS_DOWNLOAD_URL=http://download.redis.io/releases/redis-2.8.9.tar.gz" \\\r\n    -e "REDIS_DOWNLOAD_SHA1=003ccdc175816e0a751919cf508f1318e54aac1e" \\\r\n    -p 0.0.0.0:6379:6379/tcp \\\r\n    --detach=true \\\r\n    myrepo/redis:7860c450dbee9878d5215595b390b9be8fa94c89 \\\r\n    redis-server --slaveof 172.31.17.84 6379\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["S\u1eed d\u1ee5ng v\u1edbi tham s\u1ed1 ",(0,i.jsx)(e.code,{children:"-p"})," \u0111\u1ec3 format \u0111\u1eb9p h\u01a1n:"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'$ docker run --rm -v /var/run/docker.sock:/var/run/docker.sock assaflavie/runlike -p redis\r\n\r\n# K\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1:\r\ndocker run \\\r\n    --name=redis \\\r\n    -e "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin" \\\r\n    -e "REDIS_VERSION=2.8.9" \\\r\n    -e "REDIS_DOWNLOAD_URL=http://download.redis.io/releases/redis-2.8.9.tar.gz" \\\r\n    -e "REDIS_DOWNLOAD_SHA1=003ccdc175816e0a751919cf508f1318e54aac1e" \\\r\n    -p 0.0.0.0:6379:6379/tcp \\\r\n    --detach=true \\\r\n    myrepo/redis:7860c450dbee9878d5215595b390b9be8fa94c89 \\\r\n    redis-server --slaveof 172.31.17.84 6379\n'})}),"\n",(0,i.jsx)(e.h2,{id:"5-l\u01b0u-\xfd-khi-s\u1eed-d\u1ee5ng",children:"5. L\u01b0u \xfd khi s\u1eed d\u1ee5ng"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Tool ",(0,i.jsx)(e.code,{children:"runlike"})," h\u1ed7 tr\u1ee3 nhi\u1ec1u t\xf9y ch\u1ecdn Docker nh\u01b0ng kh\xf4ng ph\u1ea3i t\u1ea5t c\u1ea3."]}),"\n",(0,i.jsxs)(e.li,{children:["M\u1ed9t s\u1ed1 th\xf4ng tin nh\u01b0 build context c\u1ee7a ",(0,i.jsx)(e.code,{children:"COPY"}),"/",(0,i.jsx)(e.code,{children:"ADD"})," s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ph\u1ee5c h\u1ed3i ch\xednh x\xe1c."]}),"\n",(0,i.jsx)(e.li,{children:"Ki\u1ec3m tra k\u1ef9 l\u1ec7nh \u0111\u01b0\u1ee3c t\u1ea1o ra tr\u01b0\u1edbc khi ch\u1ea1y trong m\xf4i tr\u01b0\u1eddng production."}),"\n",(0,i.jsxs)(e.li,{children:["N\u1ebfu container \u0111\u01b0\u1ee3c t\u1ea1o b\u1edfi ",(0,i.jsx)(e.code,{children:"docker-compose"}),", h\xe3y ki\u1ec3m tra labels \u0111\u1ec3 t\xecm file compose g\u1ed1c."]}),"\n"]})]})}function a(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>d,x:()=>o});var c=r(6540);const i={},s=c.createContext(i);function d(n){const e=c.useContext(s);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:d(n.components),c.createElement(s.Provider,{value:e},n.children)}}}]);